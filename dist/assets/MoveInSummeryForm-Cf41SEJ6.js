import{r as E,e as xe,g as ye,s as ge,_ as K,i as ve,u as be,L as we,k as pe,j as n,l as je,M as ee,N as oe,m as Pe,O as De,P as Se,p as qe,I as Me,Q as ke,b as We,a as Ce,B as c,C as Be,T as Te,d as Re}from"./index-BHNVHtdT.js";import{C as ze,y as ne}from"./js.cookie-dTu_y0vz.js";import{c as Ee,b as D,a as Ye,d as J,e as _e,F as Ne}from"./index.esm-DVKeHXTk.js";import{H as $e}from"./Header-Ds1_fXU1.js";import{L as A,A as L,D as $,d as O}from"./AdapterDayjs-BVbf_yk6.js";import{t as Oe,_ as Ie}from"./toPropertyKey-PLuKRk1e.js";import{P as N}from"./InputAdornment-3yUghm8y.js";import{S as re}from"./staticFormServices-BkVNdnLo.js";import{T as P}from"./TextField-rLvJhvSW.js";import{F as Q,R as Ae}from"./Radio-9oLnMt1J.js";import{F as U,C as G}from"./FormControlLabel-BgvD1Gb2.js";import"./api-De-UYRK6.js";import"./IconButton-BDVsVlra.js";const Le=E.createContext(),le=Le;function Ue(e){return xe("MuiGrid",e)}const Fe=[0,1,2,3,4,5,6,7,8,9,10],Ge=["column-reverse","column","row-reverse","row"],Ke=["nowrap","wrap-reverse","wrap"],X=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Z=ye("MuiGrid",["root","container","item","zeroMinWidth",...Fe.map(e=>`spacing-xs-${e}`),...Ge.map(e=>`direction-xs-${e}`),...Ke.map(e=>`wrap-xs-${e}`),...X.map(e=>`grid-xs-${e}`),...X.map(e=>`grid-sm-${e}`),...X.map(e=>`grid-md-${e}`),...X.map(e=>`grid-lg-${e}`),...X.map(e=>`grid-xl-${e}`)]),He=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function H(e){const r=parseFloat(e);return`${r}${String(e).replace(String(r),"")||"px"}`}function Xe({theme:e,ownerState:r}){let i;return e.breakpoints.keys.reduce((t,o)=>{let _={};if(r[o]&&(i=r[o]),!i)return t;if(i===!0)_={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")_={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const f=ee({values:r.columns,breakpoints:e.breakpoints.values}),d=typeof f=="object"?f[o]:f;if(d==null)return t;const u=`${Math.round(i/d*1e8)/1e6}%`;let p={};if(r.container&&r.item&&r.columnSpacing!==0){const x=e.spacing(r.columnSpacing);if(x!=="0px"){const b=`calc(${u} + ${H(x)})`;p={flexBasis:b,maxWidth:b}}}_=K({flexBasis:u,flexGrow:0,maxWidth:u},p)}return e.breakpoints.values[o]===0?Object.assign(t,_):t[e.breakpoints.up(o)]=_,t},{})}function Ze({theme:e,ownerState:r}){const i=ee({values:r.direction,breakpoints:e.breakpoints.values});return oe({theme:e},i,t=>{const o={flexDirection:t};return t.indexOf("column")===0&&(o[`& > .${Z.item}`]={maxWidth:"none"}),o})}function he({breakpoints:e,values:r}){let i="";Object.keys(r).forEach(o=>{i===""&&r[o]!==0&&(i=o)});const t=Object.keys(e).sort((o,_)=>e[o]-e[_]);return t.slice(0,t.indexOf(i))}function Je({theme:e,ownerState:r}){const{container:i,rowSpacing:t}=r;let o={};if(i&&t!==0){const _=ee({values:t,breakpoints:e.breakpoints.values});let f;typeof _=="object"&&(f=he({breakpoints:e.breakpoints.values,values:_})),o=oe({theme:e},_,(d,u)=>{var p;const x=e.spacing(d);return x!=="0px"?{marginTop:`-${H(x)}`,[`& > .${Z.item}`]:{paddingTop:H(x)}}:(p=f)!=null&&p.includes(u)?{}:{marginTop:0,[`& > .${Z.item}`]:{paddingTop:0}}})}return o}function Qe({theme:e,ownerState:r}){const{container:i,columnSpacing:t}=r;let o={};if(i&&t!==0){const _=ee({values:t,breakpoints:e.breakpoints.values});let f;typeof _=="object"&&(f=he({breakpoints:e.breakpoints.values,values:_})),o=oe({theme:e},_,(d,u)=>{var p;const x=e.spacing(d);return x!=="0px"?{width:`calc(100% + ${H(x)})`,marginLeft:`-${H(x)}`,[`& > .${Z.item}`]:{paddingLeft:H(x)}}:(p=f)!=null&&p.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${Z.item}`]:{paddingLeft:0}}})}return o}function Ve(e,r,i={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[i[`spacing-xs-${String(e)}`]];const t=[];return r.forEach(o=>{const _=e[o];Number(_)>0&&t.push(i[`spacing-${o}-${String(_)}`])}),t}const et=ge("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:i}=e,{container:t,direction:o,item:_,spacing:f,wrap:d,zeroMinWidth:u,breakpoints:p}=i;let x=[];t&&(x=Ve(f,p,r));const b=[];return p.forEach(w=>{const j=i[w];j&&b.push(r[`grid-${w}-${String(j)}`])}),[r.root,t&&r.container,_&&r.item,u&&r.zeroMinWidth,...x,o!=="row"&&r[`direction-xs-${String(o)}`],d!=="wrap"&&r[`wrap-xs-${String(d)}`],...b]}})(({ownerState:e})=>K({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Ze,Je,Qe,Xe);function tt(e,r){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const i=[];return r.forEach(t=>{const o=e[t];if(Number(o)>0){const _=`spacing-${t}-${String(o)}`;i.push(_)}}),i}const nt=e=>{const{classes:r,container:i,direction:t,item:o,spacing:_,wrap:f,zeroMinWidth:d,breakpoints:u}=e;let p=[];i&&(p=tt(_,u));const x=[];u.forEach(w=>{const j=e[w];j&&x.push(`grid-${w}-${String(j)}`)});const b={root:["root",i&&"container",o&&"item",d&&"zeroMinWidth",...p,t!=="row"&&`direction-xs-${String(t)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,...x]};return Pe(b,Ue,r)},rt=E.forwardRef(function(r,i){const t=ve({props:r,name:"MuiGrid"}),{breakpoints:o}=be(),_=we(t),{className:f,columns:d,columnSpacing:u,component:p="div",container:x=!1,direction:b="row",item:w=!1,rowSpacing:j,spacing:M=0,wrap:k="wrap",zeroMinWidth:B=!1}=_,W=pe(_,He),a=j||M,g=u||M,h=E.useContext(le),T=x?d||12:h,v={},R=K({},W);o.keys.forEach(m=>{W[m]!=null&&(v[m]=W[m],delete R[m])});const s=K({},_,{columns:T,container:x,direction:b,item:w,rowSpacing:a,columnSpacing:g,wrap:k,zeroMinWidth:B,spacing:M},v,{breakpoints:o.keys}),l=nt(s);return n.jsx(le.Provider,{value:T,children:n.jsx(et,K({ownerState:s,className:je(l.root,f),as:p,ref:i},R))})}),ie=rt;function it(e,r){if(e==null)return{};var i,t,o=pe(e,r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(e);for(t=0;t<_.length;t++)i=_[t],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function de(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Oe(t.key),t)}}function at(e,r,i){return r&&de(e.prototype,r),i&&de(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function st(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&De(e,r)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V(e)}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!e})()}function ct(e,r){if(r&&(Ie(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function _t(e){var r=fe();return function(){var i,t=V(e);if(r){var o=V(this).constructor;i=Reflect.construct(t,arguments,o)}else i=t.apply(this,arguments);return ct(this,i)}}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function F(e,r,i){this.x=e,this.y=r,this.time=i||new Date().getTime()}F.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};F.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};F.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function se(e,r,i,t){this.startPoint=e,this.control1=r,this.control2=i,this.endPoint=t}se.prototype.length=function(){for(var e=10,r=0,i=void 0,t=void 0,o=0;o<=e;o+=1){var _=o/e,f=this._point(_,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),d=this._point(_,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){var u=f-i,p=d-t;r+=Math.sqrt(u*u+p*p)}i=f,t=d}return r};se.prototype._point=function(e,r,i,t,o){return r*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*t*(1-e)*e*e+o*e*e*e};function lt(e,r,i){var t,o,_,f=null,d=0;i||(i={});var u=function(){d=i.leading===!1?0:Date.now(),f=null,_=e.apply(t,o),f||(t=o=null)};return function(){var p=Date.now();!d&&i.leading===!1&&(d=p);var x=r-(p-d);return t=this,o=arguments,x<=0||x>r?(f&&(clearTimeout(f),f=null),d=p,_=e.apply(t,o),f||(t=o=null)):!f&&i.trailing!==!1&&(f=setTimeout(u,x)),_}}function q(e,r){var i=this,t=r||{};this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=lt(q.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=q.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(o){o.which===1&&(i._mouseButtonDown=!0,i._strokeBegin(o))},this._handleMouseMove=function(o){i._mouseButtonDown&&i._strokeMoveUpdate(o)},this._handleMouseUp=function(o){o.which===1&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(o))},this._handleTouchStart=function(o){if(o.targetTouches.length===1){var _=o.changedTouches[0];i._strokeBegin(_)}},this._handleTouchMove=function(o){o.preventDefault();var _=o.targetTouches[0];i._strokeMoveUpdate(_)},this._handleTouchEnd=function(o){var _=o.target===i._canvas;_&&(o.preventDefault(),i._strokeEnd(o))},this.on()}q.prototype.clear=function(){var e=this._ctx,r=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,r.width,r.height),e.fillRect(0,0,r.width,r.height),this._data=[],this._reset(),this._isEmpty=!0};q.prototype.fromDataURL=function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new Image,o=i.ratio||window.devicePixelRatio||1,_=i.width||this._canvas.width/o,f=i.height||this._canvas.height/o;this._reset(),t.src=e,t.onload=function(){r._ctx.drawImage(t,0,0,_,f)},this._isEmpty=!1};q.prototype.toDataURL=function(e){var r;switch(e){case"image/svg+xml":return this._toSVG();default:for(var i=arguments.length,t=Array(i>1?i-1:0),o=1;o<i;o++)t[o-1]=arguments[o];return(r=this._canvas).toDataURL.apply(r,[e].concat(t))}};q.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};q.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};q.prototype.isEmpty=function(){return this._isEmpty};q.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};q.prototype._strokeUpdate=function(e){var r=e.clientX,i=e.clientY,t=this._createPoint(r,i),o=this._data[this._data.length-1],_=o&&o[o.length-1],f=_&&t.distanceTo(_)<this.minDistance;if(!(_&&f)){var d=this._addPoint(t),u=d.curve,p=d.widths;u&&p&&this._drawCurve(u,p.start,p.end),this._data[this._data.length-1].push({x:t.x,y:t.y,time:t.time,color:this.penColor})}};q.prototype._strokeEnd=function(e){var r=this.points.length>2,i=this.points[0];if(!r&&i&&this._drawDot(i),i){var t=this._data[this._data.length-1],o=t[t.length-1];i.equals(o)||t.push({x:i.x,y:i.y,time:i.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};q.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};q.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};q.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};q.prototype._createPoint=function(e,r,i){var t=this._canvas.getBoundingClientRect();return new F(e-t.left,r-t.top,i||new Date().getTime())};q.prototype._addPoint=function(e){var r=this.points,i=void 0;if(r.push(e),r.length>2){r.length===3&&r.unshift(r[0]),i=this._calculateCurveControlPoints(r[0],r[1],r[2]);var t=i.c2;i=this._calculateCurveControlPoints(r[1],r[2],r[3]);var o=i.c1,_=new se(r[1],t,o,r[2]),f=this._calculateCurveWidths(_);return r.shift(),{curve:_,widths:f}}return{}};q.prototype._calculateCurveControlPoints=function(e,r,i){var t=e.x-r.x,o=e.y-r.y,_=r.x-i.x,f=r.y-i.y,d={x:(e.x+r.x)/2,y:(e.y+r.y)/2},u={x:(r.x+i.x)/2,y:(r.y+i.y)/2},p=Math.sqrt(t*t+o*o),x=Math.sqrt(_*_+f*f),b=d.x-u.x,w=d.y-u.y,j=x/(p+x),M={x:u.x+b*j,y:u.y+w*j},k=r.x-M.x,B=r.y-M.y;return{c1:new F(d.x+k,d.y+B),c2:new F(u.x+k,u.y+B)}};q.prototype._calculateCurveWidths=function(e){var r=e.startPoint,i=e.endPoint,t={start:null,end:null},o=this.velocityFilterWeight*i.velocityFrom(r)+(1-this.velocityFilterWeight)*this._lastVelocity,_=this._strokeWidth(o);return t.start=this._lastWidth,t.end=_,this._lastVelocity=o,this._lastWidth=_,t};q.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};q.prototype._drawPoint=function(e,r,i){var t=this._ctx;t.moveTo(e,r),t.arc(e,r,i,0,2*Math.PI,!1),this._isEmpty=!1};q.prototype._drawCurve=function(e,r,i){var t=this._ctx,o=i-r,_=Math.floor(e.length());t.beginPath();for(var f=0;f<_;f+=1){var d=f/_,u=d*d,p=u*d,x=1-d,b=x*x,w=b*x,j=w*e.startPoint.x;j+=3*b*d*e.control1.x,j+=3*x*u*e.control2.x,j+=p*e.endPoint.x;var M=w*e.startPoint.y;M+=3*b*d*e.control1.y,M+=3*x*u*e.control2.y,M+=p*e.endPoint.y;var k=r+p*o;this._drawPoint(j,M,k)}t.closePath(),t.fill()};q.prototype._drawDot=function(e){var r=this._ctx,i=typeof this.dotSize=="function"?this.dotSize():this.dotSize;r.beginPath(),this._drawPoint(e.x,e.y,i),r.closePath(),r.fill()};q.prototype._fromData=function(e,r,i){for(var t=0;t<e.length;t+=1){var o=e[t];if(o.length>1)for(var _=0;_<o.length;_+=1){var f=o[_],d=new F(f.x,f.y,f.time),u=f.color;if(_===0)this.penColor=u,this._reset(),this._addPoint(d);else if(_!==o.length-1){var p=this._addPoint(d),x=p.curve,b=p.widths;x&&b&&r(x,b,u)}}else{this._reset();var w=o[0];i(w)}}};q.prototype._toSVG=function(){var e=this,r=this._data,i=this._canvas,t=Math.max(window.devicePixelRatio||1,1),o=0,_=0,f=i.width/t,d=i.height/t,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",i.width),u.setAttributeNS(null,"height",i.height),this._fromData(r,function(W,a,g){var h=document.createElement("path");if(!isNaN(W.control1.x)&&!isNaN(W.control1.y)&&!isNaN(W.control2.x)&&!isNaN(W.control2.y)){var T="M "+W.startPoint.x.toFixed(3)+","+W.startPoint.y.toFixed(3)+" "+("C "+W.control1.x.toFixed(3)+","+W.control1.y.toFixed(3)+" ")+(W.control2.x.toFixed(3)+","+W.control2.y.toFixed(3)+" ")+(W.endPoint.x.toFixed(3)+","+W.endPoint.y.toFixed(3));h.setAttribute("d",T),h.setAttribute("stroke-width",(a.end*2.25).toFixed(3)),h.setAttribute("stroke",g),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),u.appendChild(h)}},function(W){var a=document.createElement("circle"),g=typeof e.dotSize=="function"?e.dotSize():e.dotSize;a.setAttribute("r",g),a.setAttribute("cx",W.x),a.setAttribute("cy",W.y),a.setAttribute("fill",W.color),u.appendChild(a)});var p="data:image/svg+xml;base64,",x='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+o+" "+_+" "+f+" "+d+'"')+(' width="'+f+'"')+(' height="'+d+'"')+">",b=u.innerHTML;if(b===void 0){var w=document.createElement("dummy"),j=u.childNodes;w.innerHTML="";for(var M=0;M<j.length;M+=1)w.appendChild(j[M].cloneNode(!0));b=w.innerHTML}var k="</svg>",B=x+b+k;return p+btoa(B)};q.prototype.fromData=function(e){var r=this;this.clear(),this._fromData(e,function(i,t){return r._drawCurve(i,t.start,t.end)},function(i){return r._drawDot(i)}),this._data=e};q.prototype.toData=function(){return this._data};var ue={exports:{}};(function(e,r){(function(i,t){e.exports=t()})(qe,function(){return function(i){function t(_){if(o[_])return o[_].exports;var f=o[_]={exports:{},id:_,loaded:!1};return i[_].call(f.exports,f,f.exports,t),f.loaded=!0,f.exports}var o={};return t.m=i,t.c=o,t.p="",t(0)}([function(i,t){function o(p){var x=p.getContext("2d"),b=p.width,w=p.height,j=x.getImageData(0,0,b,w).data,M=d(!0,b,w,j),k=d(!1,b,w,j),B=u(!0,b,w,j),W=u(!1,b,w,j),a=W-B+1,g=k-M+1,h=x.getImageData(B,M,a,g);return p.width=a,p.height=g,x.clearRect(0,0,a,g),x.putImageData(h,0,0),p}function _(p,x,b,w){return{red:w[4*(b*x+p)],green:w[4*(b*x+p)+1],blue:w[4*(b*x+p)+2],alpha:w[4*(b*x+p)+3]}}function f(p,x,b,w){return _(p,x,b,w).alpha}function d(p,x,b,w){for(var j=p?1:-1,M=p?0:b-1,k=M;p?k<b:k>-1;k+=j)for(var B=0;B<x;B++)if(f(B,k,x,w))return k;return null}function u(p,x,b,w){for(var j=p?1:-1,M=p?0:x-1,k=M;p?k<x:k>-1;k+=j)for(var B=0;B<b;B++)if(f(k,B,x,w))return k;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}])})})(ue);var dt=ue.exports;const mt=Me(dt);var pt=["canvasProps","clearOnResize"],te=function(e){st(i,e);var r=_t(i);function i(){var t;ot(this,i);for(var o=arguments.length,_=new Array(o),f=0;f<o;f++)_[f]=arguments[f];return t=r.call.apply(r,[this].concat(_)),t.staticThis=t.constructor,t._sigPad=null,t._canvas=null,t.setRef=function(d){t._canvas=d,t._canvas===null&&(t._sigPad=null)},t._excludeOurProps=function(){var d=t.props;d.canvasProps,d.clearOnResize;var u=it(d,pt);return u},t.componentDidMount=function(){var d=t.getCanvas();t._sigPad=new q(d,t._excludeOurProps()),t._resizeCanvas(),t.on()},t.componentWillUnmount=function(){t.off()},t.componentDidUpdate=function(){Object.assign(t._sigPad,t._excludeOurProps())},t.getCanvas=function(){if(t._canvas===null)throw t.staticThis.refNullError;return t._canvas},t.getTrimmedCanvas=function(){var d=t.getCanvas(),u=document.createElement("canvas");return u.width=d.width,u.height=d.height,u.getContext("2d").drawImage(d,0,0),mt(u)},t.getSignaturePad=function(){if(t._sigPad===null)throw t.staticThis.refNullError;return t._sigPad},t._checkClearOnResize=function(){t.props.clearOnResize&&t._resizeCanvas()},t._resizeCanvas=function(){var d,u,p=(d=t.props.canvasProps)!==null&&d!==void 0?d:{},x=p.width,b=p.height;if(!(typeof x<"u"&&typeof b<"u")){var w=t.getCanvas(),j=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof x>"u"&&(w.width=w.offsetWidth*j),typeof b>"u"&&(w.height=w.offsetHeight*j),w.getContext("2d").scale(j,j),t.clear()}},t.render=function(){var d=t.props.canvasProps;return ke.createElement("canvas",K({ref:t.setRef},d))},t.on=function(){return window.addEventListener("resize",t._checkClearOnResize),t.getSignaturePad().on()},t.off=function(){return window.removeEventListener("resize",t._checkClearOnResize),t.getSignaturePad().off()},t.clear=function(){return t.getSignaturePad().clear()},t.isEmpty=function(){return t.getSignaturePad().isEmpty()},t.fromDataURL=function(d,u){return t.getSignaturePad().fromDataURL(d,u)},t.toDataURL=function(d,u){return t.getSignaturePad().toDataURL(d,u)},t.fromData=function(d){return t.getSignaturePad().fromData(d)},t.toData=function(){return t.getSignaturePad().toData()},t}return at(i)}(E.Component);te.propTypes={velocityFilterWeight:N.number,minWidth:N.number,maxWidth:N.number,minDistance:N.number,dotSize:N.oneOfType([N.number,N.func]),penColor:N.string,throttle:N.number,onEnd:N.func,onBegin:N.func,canvasProps:N.object,clearOnResize:N.bool};te.defaultProps={clearOnResize:!0};te.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");function ht(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}const ft=[{Yearly:"contract_term_yearly"},{Monthly:"contract_term_monthly"},{Weekly:"contract_term_weekly"},{Daily:"contract_term_daily"}],me=[{PAD:"payor_information_PAD"},{"Post Dated-Cheque":"payor_information_Post_Dated_Cheque"}],ut=[{"Unit Key":"unit_key"},{"Elpas Fob":"elpas_fob"}],xt=Ee().shape({suite_number:D().trim().required("Please enter Suite Number."),contract_signing_date:D().required("Please select Contract Signing Date."),sales_name:D().trim().required("Please enter Sales Name."),contartTeam:Ye().min(1,"Please select Contract Term."),tenancy_commence_date:D().required("Please select Tenancy Commence Date."),contract_expiry_date:D().required("Please select Contract Expiry Date."),first_resident_name_first_name:D().trim().required("Please enter First Name of 1st Resident."),first_resident_name_last_name:D().trim().required("Please enter Last Name of 1st Resident."),first_resident_dob:D().required("Please select DOB of 1st Resident."),second_resident_name_first_name:D().when("has_2nd_resident",{is:!0,then:e=>e.trim().required("Please enter First Name of 2nd Resident."),otherwise:e=>e}),second_resident_name_last_name:D().when("has_2nd_resident",{is:!0,then:e=>e.trim().required("Please enter Last Name of 2nd Resident."),otherwise:e=>e}),second_resident_dob:D().when("has_2nd_resident",{is:!0,then:e=>e.required("Please select DOB of 2nd Resident."),otherwise:e=>e}),first_month_payment_received:J(),first_month_payment_received_cheque_note:D().when("first_month_payment_received",{is:!0,then:e=>e.trim().required("Please enter Cheque Number for 1st Month Payment."),otherwise:e=>e}),first_month_payment_received_cheque_date:D().when("first_month_payment_received",{is:!0,then:e=>e.required("Please select Cheque Date for 1st Month Payment."),otherwise:e=>e}),first_month_payment_received_cheque_amount:_e().when("first_month_payment_received",{is:!0,then:e=>e.typeError("Please enter Total for 1st Month Payment..").required("Please enter Total for 1st Month Payment."),otherwise:e=>e}),monthly_rate:D().trim().required("Please enter Monthly Rate."),security_deposit_received:J(),security_deposit_received_cheque_note:D().when("security_deposit_received",{is:!0,then:e=>e.trim().required("Please enter Cheque Number for Security Deposit."),otherwise:e=>e}),security_deposit_received_cheque_date:D().when("security_deposit_received",{is:!0,then:e=>e.required("Please select Cheque Date for Security Deposit."),otherwise:e=>e}),security_deposit_received_cheque_amount:_e().when("security_deposit_received",{is:!0,then:e=>e.typeError("Please enter Total for Security Deposit.").required("Please enter Total for Security Deposit."),otherwise:e=>e}),payor_information_PAD:J(),payor_information_Post_Dated_Cheque:J(),payor_information_selected:D().test("payor-information-required","Please select Payor Information",function(){const{payor_information_PAD:e,payor_information_Post_Dated_Cheque:r}=this.parent;return e||r}),payor_name:D().when("payor_information_PAD",{is:!0,then:e=>e.trim().required("Please enter Payor's Name."),otherwise:e=>e}),bank_name:D().when("payor_information_PAD",{is:!0,then:e=>e.trim().required("Please enter Bank Name."),otherwise:e=>e}),bank_ID:D().when("payor_information_PAD",{is:!0,then:e=>e.trim().required("Please enter Bank ID.").length(3,"Bank ID must be of 3 digits Only.").matches(/^\d{3}$/,"Bank ID must be of 3 digits Only."),otherwise:e=>e}),account_number:D().when("payor_information_PAD",{is:!0,then:e=>e.trim().required("Please enter Account Number."),otherwise:e=>e}),transit:D().when("payor_information_PAD",{is:!0,then:e=>e.trim().required("Please enter Transit.").length(5,"Transit must be of 5 digits Only.").matches(/^\d{5}$/,"Transit must be of 5 digits Only."),otherwise:e=>e}),unit_key_value:D().when("unit_key",{is:e=>!!e,then:e=>e.trim().required("Please enter Unit Key."),otherwise:e=>e}),elpas_fob_value:D().when("elpas_fob",{is:e=>!!e,then:e=>e.trim().required("Please enter Elpas Fob."),otherwise:e=>e}),resident_signature:D().required("Signature is required"),suite_insurance_copy_received_date:D().when("suite_insurance_copy_received",{is:!0,then:e=>e.required("Please select Date for Suite Insurance Copy Received."),otherwise:e=>e}),insurance_company_name:D().when("suite_insurance_coverage_approved",{is:!0,then:e=>e.trim().required("Please enter Insurance Company Name."),otherwise:e=>e}),policy_number:D().when("suite_insurance_coverage_approved",{is:!0,then:e=>e.trim().required("Please enter Policy Number."),otherwise:e=>e}),reviewed_by:D().trim().required("Please enter Reviewed by."),date:D().required("Please select Date.")}),ae={id:"",suite_number:"",contract_signing_date:"",sales_name:"",contartTeam:[],contract_term_yearly:0,contract_term_monthly:0,contract_term_weekly:0,contract_term_daily:0,tenancy_commence_date:"",contract_expiry_date:"",first_resident_name_first_name:"",first_resident_name_middle_name:"",first_resident_name_last_name:"",first_resident_dob:"",has_2nd_resident:!1,second_resident_name_first_name:"",second_resident_name_middle_name:"",second_resident_name_last_name:"",second_resident_dob:"",first_month_payment_received:!1,first_month_payment_received_cheque_note:"",first_month_payment_received_cheque_date:"",first_month_payment_received_cheque_amount:"",monthly_rate:"",care_plan_rate:"",one_time_move_in_fee:null,parking_rate:"",parking_gst_val:"",parking_quantity:1,scooter_rate:"",scooter_quantity:1,window_screen_rate:"",window_screen_quantity:1,grab_bar_rate:"",grab_bar_quantity:1,payment_others_rate:"",security_deposit_received:!1,security_deposit_received_cheque_note:"",security_deposit_received_cheque_date:"",security_deposit_received_cheque_amount:"",half_month_deposit_for_first_resident_rate:"",half_month_care_plan_rate:"",move_in_out_rate:"",elpas_rate:"",elpas_quantity:1,garage_fob_rate:"",garage_fob_quantity:1,deposit_others_rate:"",payor_information_PAD:!1,payor_information_Post_Dated_Cheque:!1,payor_information_selected:"",payor_name:"",bank_name:"",bank_ID:"",account_number:"",transit:"",unit_key:0,unit_key_value:"",elpas_fob:0,elpas_fob_value:"",resident_signature:"",suite_insurance_copy_received:!1,suite_insurance_copy_received_date:"",suite_insurance_coverage_approved:!1,insurance_company_name:"",policy_number:"",reviewed_by:"",date:""},Ct=()=>{const e=E.useRef(null),r=We(),i=Ce(),[t,o]=E.useState(!1),[_,f]=E.useState(),[d,u]=E.useState(ae),[p,x]=E.useState(0),[b,w]=E.useState(0);E.useEffect(()=>{(async()=>{var g,h,T,v,R,s;o(!0);try{if((h=(g=r==null?void 0:r.state)==null?void 0:g.formData)!=null&&h.form_data){f((T=r.state)==null?void 0:T.id),u({...ae,...r.state.formData.form_data,id:((v=r.state)==null?void 0:v.id)||((s=(R=r.state.formData)==null?void 0:R.form_data)==null?void 0:s.id)||"",resident_signature:""}),o(!1);return}const l=await re.getDefaultValue(),m=(l==null?void 0:l.Data)||{},z=parseFloat(m.parking_rate||0),y=parseFloat(m.gst_percentage_for_parking||0),S=z*y/100,I=parseFloat(m.monthly_rate_for_second_resident||0)/2;x(Number(m==null?void 0:m.elpas_rate)||0),w(Number(m==null?void 0:m.garage_fob_rate)||0),u({...ae,elpas_rate:Number(m==null?void 0:m.elpas_rate)||0,garage_fob_rate:Number(m.garage_fob_rate)||0,gst_percentage_for_parking:S.toFixed(2),one_time_move_in_fee:m.one_time_move_in_fee||"",parking_rate:m.parking_rate||"",halfRentalDeposit2ndRes:I.toFixed(2),move_in_out_rate:m.move_in_out_rate||"",elpas_quantity:1})}catch{}finally{o(!1)}})()},[]);const j=a=>Number(a)||0,M=(a,g,h,T)=>{const v=()=>{var R;if((R=a.current)!=null&&R.isEmpty())h("resident_signature",""),T("resident_signature",!0,!1);else{const s=a.current.getCanvas().toDataURL("image/png");h("resident_signature",s,!0),T("resident_signature",!0,!1)}};return E.useEffect(()=>{if(a.current&&g.resident_signature&&a.current.isEmpty())try{a.current.fromDataURL(g.resident_signature)}catch(R){console.error("Error loading signature:",R)}},[g.resident_signature]),v},k=(a,g,h)=>{E.useEffect(()=>{const T=j(g==null?void 0:g.halfRentalDeposit2ndRes)*2,v=j(a.monthly_rate);if(v>0){const R=a.has_2nd_resident?v>T?((v-T)/2).toFixed(2):"":(v/2).toFixed(2);h("half_month_deposit_for_first_resident_rate",R)}else h("half_month_deposit_for_first_resident_rate","")},[a.has_2nd_resident,a.monthly_rate])},B=(a,g)=>{E.useEffect(()=>{const h=j(a.care_plan_rate);g("half_month_care_plan_rate",h>0?(h/2).toFixed(2):"")},[a.care_plan_rate])},W=async(a,g)=>{o(!0);try{let h=a.resident_signature;h||(h="");const T=atob(h.split(",")[1]),v=h.split(",")[0].split(":")[1].split(";")[0],R=new ArrayBuffer(T.length),s=new Uint8Array(R);for(let y=0;y<T.length;y++)s[y]=T.charCodeAt(y);const l=new Blob([R],{type:v}),m=new FormData;_&&m.append("form_id",_),h&&m.append("file",l,`Img_${ht()}.jpg`),m.append("form_type","3"),m.append("data",JSON.stringify(a));let z;_?(z=await re.moveInSummeryUpdate(m),(z==null?void 0:z.ResponseCode)==="1"&&(ne.success("Form Updated successfully."),setTimeout(()=>{i("/staticForms")},1200))):(z=await re.moveInSummerySubmit(m),(z==null?void 0:z.ResponseCode)==="1"&&(ne.success((z==null?void 0:z.ResponseText)||"Form submitted successfully."),setTimeout(()=>{i("/staticForms")},1200)))}catch(h){console.error("Error during form submission:",h),ne.error("Form is not submitted. Please try again.")}finally{o(!1)}};return n.jsxs(c,{m:"20px",children:[n.jsx($e,{title:"MOVEIN SUMMARY FORM",Buttons:!1}),t?n.jsx(c,{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 100px)",children:n.jsx(Be,{})}):n.jsx(n.Fragment,{children:n.jsx(Ne,{initialValues:d,enableReinitialize:!0,validationSchema:xt,onSubmit:W,children:({values:a,handleChange:g,handleBlur:h,handleSubmit:T,setFieldValue:v,setFieldTouched:R,errors:s,touched:l,submitCount:m})=>{const z=M(e,a,v,R);return k(a,d,v),B(a,v),n.jsx("form",{onSubmit:T,children:n.jsxs(c,{display:"flex",flexDirection:"column",gap:2,mx:"auto",children:[n.jsxs(c,{display:"flex",gap:2,children:[n.jsx(P,{label:"Suite Number",name:"suite_number",value:a.suite_number,onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.suite_number&&!!s.suite_number,helperText:l.suite_number&&s.suite_number}),n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Contract Sign Date",value:a.contract_signing_date?O(a.contract_signing_date):null,onChange:y=>v("contract_signing_date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",sx:{},error:l.contract_signing_date&&!!s.contract_signing_date,helperText:l.contract_signing_date&&s.contract_signing_date}}})}),n.jsx(P,{label:"Sales Name",name:"sales_name",value:a.sales_name,onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.sales_name&&!!s.sales_name,helperText:l.sales_name&&s.sales_name})]}),n.jsxs(c,{sx:{gridColumn:"span 4",mt:2},children:[n.jsxs(Q,{row:!0,children:[n.jsx(c,{component:"label",sx:{mb:1,fontWeight:600,width:"100%"},children:"Cotract Team"}),ft.map(y=>{const S=Object.keys(y)[0],C=y[S];return n.jsx(c,{sx:{width:"50%"},children:n.jsx(U,{control:n.jsx(Ae,{checked:Array.isArray(a.contartTeam)&&a.contartTeam[0]===C,onChange:()=>{v("contartTeam",[C]),v("contract_term_yearly",C==="contract_term_yearly"?1:0),v("contract_term_monthly",C==="contract_term_monthly"?1:0),v("contract_term_weekly",C==="contract_term_weekly"?1:0),v("contract_term_daily",C==="contract_term_daily"?1:0)},name:"contartTeam"}),label:S})},C)})]}),l.contartTeam&&s.contartTeam&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:1},children:s.contartTeam})]}),n.jsx(c,{sx:{gridColumn:"span 4",mt:2},children:n.jsx(A,{dateAdapter:L,children:n.jsxs(c,{display:"flex",gap:2,children:[n.jsxs(c,{flex:1,children:[n.jsx($,{label:"Tenancy Commence Date",value:a.tenancy_commence_date?O(a.tenancy_commence_date):null,onChange:y=>v("tenancy_commence_date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:l.tenancy_commence_date&&!!s.tenancy_commence_date}}}),l.tenancy_commence_date&&s.tenancy_commence_date&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.tenancy_commence_date})]}),n.jsxs(c,{flex:1,children:[n.jsx($,{label:"Contract Expiry Date",value:a.contract_expiry_date?O(a.contract_expiry_date):null,onChange:y=>v("contract_expiry_date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:l.contract_expiry_date&&!!s.contract_expiry_date,helperText:l.contract_expiry_date&&s.contract_expiry_date}}}),l.contract_expiry_date&&s.contract_expiry_date&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.contract_expiry_date})]})]})})}),n.jsxs(c,{sx:{gridColumn:"span 4",mt:2},children:[n.jsx(c,{component:"label",sx:{mb:1,fontWeight:600,fontSize:16,width:"100%"},children:"1st Resident"}),n.jsxs(c,{display:"flex",gap:2,mb:2,children:[n.jsx(P,{label:"First Name",name:"first_resident_name_first_name",value:a.first_resident_name_first_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.first_resident_name_first_name&&!!s.first_resident_name_first_name,helperText:l.first_resident_name_first_name&&s.first_resident_name_first_name}),n.jsx(P,{label:"Middle Name",name:"first_resident_name_middle_name",value:a.first_resident_name_middle_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0})]}),n.jsxs(c,{display:"flex",gap:2,children:[n.jsx(P,{label:"Last Name",name:"first_resident_name_last_name",value:a.first_resident_name_last_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.first_resident_name_last_name&&!!s.first_resident_name_last_name,helperText:l.first_resident_name_last_name&&s.first_resident_name_last_name}),n.jsxs(c,{flex:1,children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Date of Birth",value:a.first_resident_dob?O(a.first_resident_dob):null,onChange:y=>v("first_resident_dob",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:l.first_resident_dob&&!!s.first_resident_dob,helperText:l.first_resident_dob&&s.first_resident_dob}}})}),l.first_resident_dob&&s.first_resident_dob&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.first_resident_dob})]})]}),n.jsx(U,{control:n.jsx(G,{checked:a.has_2nd_resident||!1,onChange:y=>v("has_2nd_resident",y.target.checked)}),label:n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"2nd Resident"}),sx:{mb:1,mt:3,width:"100%"}}),a.has_2nd_resident&&n.jsxs(n.Fragment,{children:[n.jsxs(c,{display:"flex",gap:2,mb:2,children:[n.jsx(P,{label:"First Name",name:"second_resident_name_first_name",value:a.second_resident_name_first_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.second_resident_name_first_name&&!!s.second_resident_name_first_name,helperText:l.second_resident_name_first_name&&s.second_resident_name_first_name}),n.jsx(P,{label:"Middle Name",name:"second_resident_name_middle_name",value:a.second_resident_name_middle_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0})]}),n.jsxs(c,{display:"flex",gap:2,children:[n.jsx(P,{label:"Last Name",name:"second_resident_name_last_name",value:a.second_resident_name_last_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:l.second_resident_name_last_name&&!!s.second_resident_name_last_name,helperText:l.second_resident_name_last_name&&s.second_resident_name_last_name}),n.jsxs(c,{flex:1,children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Date of Birth",value:a.second_resident_dob?O(a.second_resident_dob):null,onChange:y=>v("second_resident_dob",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:l.second_resident_dob&&!!s.second_resident_dob,helperText:l.second_resident_dob&&s.second_resident_dob}}})}),l.second_resident_dob&&s.second_resident_dob&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.second_resident_dob})]})]})]})]}),n.jsxs(c,{sx:{gridColumn:"span 4",mt:2},children:[n.jsx(c,{component:"label",sx:{mb:1,fontWeight:600,fontSize:16,width:"100%"},children:"1st Month Payment"}),n.jsx(c,{children:n.jsx(U,{control:n.jsx(G,{checked:a.first_month_payment_received,onChange:y=>v("first_month_payment_received",y.target.checked),name:"first_month_payment_received"}),label:n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:14},children:"Received"}),sx:{mt:1}})}),a.first_month_payment_received&&n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsx(P,{label:"Cheque Number",name:"first_month_payment_received_cheque_note",value:a.first_month_payment_received_cheque_note||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.first_month_payment_received_cheque_note&&(l.first_month_payment_received_cheque_note||m>0),helperText:s.first_month_payment_received_cheque_note&&(l.first_month_payment_received_cheque_note||m>0)?s.first_month_payment_received_cheque_note:""}),n.jsxs(c,{flex:1,children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Cheque Date",value:a.first_month_payment_received_cheque_date?O(a.first_month_payment_received_cheque_date):null,onChange:y=>v("first_month_payment_received_cheque_date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:l.first_month_payment_received_cheque_date&&!!s.first_month_payment_received_cheque_date,helperText:l.first_month_payment_received_cheque_date&&s.first_month_payment_received_cheque_date}}})}),!!s.first_month_payment_received_cheque_date&&(l.first_month_payment_received_cheque_date||m>0)&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.first_month_payment_received_cheque_date})]}),n.jsx(P,{label:"Total",name:"first_month_payment_received_cheque_amount",type:"number",value:a.first_month_payment_received_cheque_amount||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.first_month_payment_received_cheque_amount&&(l.first_month_payment_received_cheque_amount||m>0),helperText:s.first_month_payment_received_cheque_amount&&(l.first_month_payment_received_cheque_amount||m>0)?s.first_month_payment_received_cheque_amount:""})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsx(P,{label:"Monthly Rate $",name:"monthly_rate",type:"number",value:a.monthly_rate||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.monthly_rate&&(l.monthly_rate||m>0),helperText:s.monthly_rate&&(l.monthly_rate||m>0)?s.monthly_rate:""}),n.jsx(P,{label:"Care Plan Rate $",name:"care_plan_rate",type:"number",value:a.care_plan_rate||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"One time move in Fees $"}),n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a==null?void 0:a.one_time_move_in_fee})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Parking X (",n.jsx(P,{name:"parking_quantity",type:"number",value:a.parking_quantity||1,onChange:g,onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(P,{label:"",name:"parking_rate",type:"number",value:a.parking_rate||"",onChange:y=>{const S=Number(y.target.value)||0;v("parking_rate",S);const C=(S*.05).toFixed(1);v("gst_percentage_for_parking",C)},onBlur:h,variant:"filled",sx:{width:120}}),n.jsxs(c,{component:"span",sx:{fontWeight:500,fontSize:15,color:"#888"},children:["+ GST ",a==null?void 0:a.gst_percentage_for_parking]})]})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Scooter X (",n.jsx(P,{name:"scooter_quantity",type:"number",value:a.scooter_quantity||1,onChange:g,onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(P,{label:"",name:"scooter_rate",type:"number",value:a.scooter_rate||"",onChange:g,onBlur:h,variant:"filled",sx:{width:120}})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Window Screen X (",n.jsx(P,{name:"window_screen_quantity",type:"number",value:a.window_screen_quantity||1,onChange:g,onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(P,{label:"",name:"window_screen_rate",type:"number",value:a.window_screen_rate||"",onChange:g,onBlur:h,variant:"filled",sx:{width:120}})]})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Grab Bar X (",n.jsx(P,{name:"grab_bar_quantity",type:"number",value:a.grab_bar_quantity||1,onChange:g,onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(P,{label:"",name:"grab_bar_rate",type:"number",value:a.grab_bar_rate||"",onChange:g,onBlur:h,variant:"filled",sx:{width:120}})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"Others $"}),n.jsx(P,{name:"payment_others_rate",type:"number",value:a.payment_others_rate||"",onChange:g,onBlur:h,variant:"filled",sx:{width:120}})]})]}),n.jsxs(c,{sx:{gridColumn:"span 4",mt:2},children:[n.jsxs(c,{display:"flex",alignItems:"center",sx:{mb:1,fontWeight:600,fontSize:16,width:"100%"},children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"Security Deposit"}),n.jsx(U,{control:n.jsx(G,{checked:a.security_deposit_received,onChange:y=>v("security_deposit_received",y.target.checked),name:"security_deposit_received"}),label:n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:14},children:"Received"}),sx:{ml:3}})]}),a.security_deposit_received&&n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsx(P,{label:"Cheque Number",name:"security_deposit_received_cheque_note",value:a.security_deposit_received_cheque_note||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.security_deposit_received_cheque_note&&(l.security_deposit_received_cheque_note||m>0),helperText:s.security_deposit_received_cheque_note&&(l.security_deposit_received_cheque_note||m>0)?s.security_deposit_received_cheque_note:""}),n.jsxs(c,{flex:1,children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Cheque Date",value:a.security_deposit_received_cheque_date?O(a.security_deposit_received_cheque_date):null,onChange:y=>v("security_deposit_received_cheque_date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",error:!!s.security_deposit_received_cheque_date&&(l.security_deposit_received_cheque_date||m>0),helperText:s.security_deposit_received_cheque_date&&(l.security_deposit_received_cheque_date||m>0)?s.security_deposit_received_cheque_date:""}}})}),!!s.security_deposit_received_cheque_date&&(l.security_deposit_received_cheque_date||m>0)&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.security_deposit_received_cheque_date})]}),n.jsx(P,{label:"Total",name:"security_deposit_received_cheque_amount",type:"number",value:a.security_deposit_received_cheque_amount||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.security_deposit_received_cheque_amount&&(l.security_deposit_received_cheque_amount||m>0),helperText:s.security_deposit_received_cheque_amount&&(l.security_deposit_received_cheque_amount||m>0)?s.security_deposit_received_cheque_amount:""})]})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsxs(c,{component:"label",sx:{mb:1,fontWeight:600,fontSize:16,width:"100%"},children:["1/2 Month Rental Deposit for 1st Resident $",n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a.half_month_deposit_for_first_resident_rate})]}),n.jsxs(c,{component:"label",sx:{mb:1,fontWeight:600,fontSize:16,width:"100%"},children:["1/2 Month Care Plan $",n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a.half_month_care_plan_rate})]})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[(a==null?void 0:a.has_2nd_resident)&&n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"1/2 Month Rental Deposit for 2nd Resident $"}),n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:(a==null?void 0:a.has_2nd_resident)&&a.halfRentalDeposit2ndRes})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:"Move In/Out $"}),n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a==null?void 0:a.move_in_out_rate})]})]}),n.jsxs(c,{display:"flex",gap:2,mt:2,children:[n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Elpas X (",n.jsx(P,{name:"elpas_quantity",type:"number",value:a.elpas_quantity||1,onChange:y=>{const S=Number(y.target.value)||1;v("elpas_quantity",S),v("elpas_rate",S*p)},onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a.elpas_rate})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,flex:1,children:[n.jsxs(c,{component:"span",sx:{fontWeight:600,fontSize:16},children:["Garage Fob X (",n.jsx(P,{name:"garage_fob_quantity",type:"number",value:a.garage_fob_quantity||1,onChange:y=>{const S=Number(y.target.value)||1;v("garage_fob_quantity",S),v("garage_fob_rate",S*b)},onBlur:h,variant:"standard",sx:{width:40,mx:.5,"& input":{textAlign:"center",fontWeight:600,fontSize:16}},inputProps:{min:1}}),") $"]}),n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,ml:2},children:a==null?void 0:a.garage_fob_rate})]})]}),n.jsxs(c,{display:"flex",alignItems:"center",gap:2,mt:2,children:[n.jsx(c,{component:"span",sx:{fontWeight:600,fontSize:16,minWidth:120},children:"Others $"}),n.jsx(P,{name:"deposit_others_rate",type:"number",value:a.deposit_others_rate||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,sx:{maxWidth:400}})]}),n.jsx(c,{sx:{gridColumn:"span 4",mt:2},children:n.jsxs(Q,{row:!0,children:[n.jsx(c,{component:"label",sx:{mb:1,fontWeight:600,width:"100%"},children:"Payor Information"}),me.map(y=>{const S=Object.keys(y)[0],C=y[S],I=a[C]||!1;return n.jsx(c,{sx:{width:"50%"},children:n.jsx(U,{control:n.jsx(G,{checked:I,onChange:()=>{me.forEach(Y=>{const ce=Y[Object.keys(Y)[0]];v(ce,ce===C)}),v("payor_information_selected",S)},name:C}),label:S})},S)}),!!s.payor_information_selected&&m>0&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:1,width:"100%"},children:s.payor_information_selected}),a.payor_information_PAD&&n.jsxs(c,{display:"flex",flexDirection:"column",gap:2,width:"100%",mt:2,children:[n.jsxs(c,{display:"flex",gap:2,children:[n.jsx(P,{label:"Payor's Name",name:"payor_name",value:a.payor_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.payor_name&&(l.payor_name||m>0),helperText:s.payor_name&&(l.payor_name||m>0)?s.payor_name:""}),n.jsx(P,{label:"Bank Name",name:"bank_name",value:a.bank_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.bank_name&&(l.bank_name||m>0),helperText:s.bank_name&&(l.bank_name||m>0)?s.bank_name:""})]}),n.jsxs(c,{display:"flex",gap:2,width:"100%",children:[n.jsx(P,{label:"Bank ID # (3 digits)",name:"bank_ID",value:a.bank_ID||"",onChange:g,onBlur:h,variant:"filled",inputProps:{maxLength:3},fullWidth:!0,error:!!s.bank_ID&&(l.bank_ID||m>0),helperText:s.bank_ID&&(l.bank_ID||m>0)?s.bank_ID:""}),n.jsx(P,{label:"Account Number",name:"account_number",value:a.account_number||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.account_number&&(l.account_number||m>0),helperText:s.account_number&&(l.account_number||m>0)?s.account_number:""}),n.jsx(P,{label:"Transit # (5 digits)",name:"transit",value:a.transit||"",onChange:g,onBlur:h,variant:"filled",inputProps:{maxLength:5},fullWidth:!0,error:!!s.transit&&(l.transit||m>0),helperText:s.transit&&(l.transit||m>0)?s.transit:""})]})]})]})}),n.jsxs(c,{sx:{gridColumn:"span 4",mt:2},children:[n.jsxs(Q,{row:!0,children:[n.jsx(c,{component:"label",sx:{mb:1,fontWeight:600,width:"100%"},children:"Others"}),ut.map(y=>{const S=Object.keys(y)[0],C=y[S],I=!!a[C],Y=C==="unit_key"?"unit_key_value":C==="elpas_fob"?"elpas_fob_value":"";return n.jsxs(c,{sx:{width:"50%"},children:[n.jsx(U,{control:n.jsx(G,{checked:I,onChange:()=>{v(C,I?0:1),!I&&Y&&v(Y,"")},name:C}),label:S}),I&&Y&&n.jsx(P,{label:`${S} Value`,name:Y,value:a[Y]||"",onChange:g,onBlur:h,variant:"filled",sx:{mt:1,width:"95%"},error:!!s[Y]&&(l[Y]||m>0),helperText:s[Y]&&(l[Y]||m>0)?s[Y]:""})]},S)})]}),n.jsxs(c,{sx:{mt:3},children:[n.jsxs(c,{sx:{display:"flex",alignItems:"center",mb:1},children:[n.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",style:{marginRight:8},xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M3 17.25V21h3.75l11.06-11.06-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.82z",fill:"#1976d2"})}),n.jsx(c,{component:"label",sx:{fontWeight:600,fontSize:16},children:"Resident Signature"})]}),n.jsxs(c,{sx:{position:"relative",display:"inline-block",width:400},children:[n.jsx(te,{canvasProps:{width:400,height:150,style:{border:"2px solid #1976d2",borderRadius:8,background:"#fff",boxShadow:"0 2px 8px rgba(25, 118, 210, 0.08)"}},ref:e,onEnd:z}),!!s.resident_signature&&(l.resident_signature||m>0)&&n.jsx(Te,{sx:{color:"error.main",fontSize:13,mt:1},children:s.resident_signature}),n.jsx(c,{sx:{display:"flex",justifyContent:"center",width:"100%"},children:n.jsx(Re,{onClick:()=>{e.current.clear(),v("resident_signature",""),R("resident_signature",!0)},sx:{mt:1},variant:"outlined",color:"primary",children:"Clear"})})]})]}),n.jsx(Q,{row:!0,sx:{mt:2},children:[{label:"Suite insurance Copy Received",name:"suite_insurance_copy_received"},{label:"Suite insurance Coverage Approved",name:"suite_insurance_coverage_approved"}].map(y=>n.jsxs(c,{sx:{width:"50%"},children:[n.jsx(U,{control:n.jsx(G,{checked:a[y.name]||!1,onChange:S=>v(y.name,S.target.checked),name:y.name}),label:y.label}),y.name==="suite_insurance_copy_received"&&a.suite_insurance_copy_received&&n.jsxs(n.Fragment,{children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Copy Received Date",value:a.suite_insurance_copy_received_date?O(a.suite_insurance_copy_received_date):null,onChange:S=>v("suite_insurance_copy_received_date",S?S.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",sx:{mt:1,width:"95%"},error:!!s.suite_insurance_copy_received_date&&(l.suite_insurance_copy_received_date||m>0),helperText:s.suite_insurance_copy_received_date&&(l.suite_insurance_copy_received_date||m>0)?s.suite_insurance_copy_received_date:""}}})}),!!s.suite_insurance_copy_received_date&&(l.suite_insurance_copy_received_date||m>0)&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.suite_insurance_copy_received_date})]}),y.name==="suite_insurance_coverage_approved"&&a.suite_insurance_coverage_approved&&n.jsxs(c,{display:"flex",flexDirection:"column",gap:2,mt:1,children:[n.jsx(P,{label:"Insurance Company Name",name:"insurance_company_name",value:a.insurance_company_name||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.insurance_company_name&&(l.insurance_company_name||m>0),helperText:s.insurance_company_name&&(l.insurance_company_name||m>0)?s.insurance_company_name:""}),n.jsx(P,{label:"Policy Number",name:"policy_number",value:a.policy_number||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.policy_number&&(l.policy_number||m>0),helperText:s.policy_number&&(l.policy_number||m>0)?s.policy_number:""})]})]},y.name))})]}),n.jsx(c,{sx:{gridColumn:"span 4",mt:2},children:n.jsxs(ie,{container:!0,spacing:2,children:[n.jsx(ie,{item:!0,xs:6,children:n.jsx(P,{label:"Reviewed by",name:"reviewed_by",value:a.reviewed_by||"",onChange:g,onBlur:h,variant:"filled",fullWidth:!0,error:!!s.reviewed_by&&(l.reviewed_by||m>0),helperText:s.reviewed_by&&(l.reviewed_by||m>0)?s.reviewed_by:""})}),n.jsxs(ie,{item:!0,xs:6,children:[n.jsx(A,{dateAdapter:L,children:n.jsx($,{label:"Date",value:a.date?O(a.date):null,onChange:y=>v("date",y?y.format("DD MMM YYYY"):""),format:"DD MMM YYYY",slotProps:{textField:{fullWidth:!0,variant:"filled",sx:{width:"95%"},error:!!s.date&&(l.date||m>0),helperText:s.date&&(l.date||m>0)?s.date:""}}})}),!!s.date&&(l.date||m>0)&&n.jsx(c,{sx:{color:"error.main",fontSize:13,mt:.5},children:s.date})]})]})})]}),n.jsx(c,{display:"flex",alignItems:"center",justifyContent:"center",mt:"20px",children:n.jsx(ze,{type:"submit",disabled:t,sx:{width:"200px",bgcolor:"#1976d2",color:"#fcfcfc",fontSize:"16px",fontWeight:"bold",p:"10px 20px",mt:"18px",transition:".3s ease",":hover":{bgcolor:"#115293"}},children:t?"Loading...":"Submit"})})]})})}})})]})};export{Ct as default};
