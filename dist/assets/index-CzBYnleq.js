import{c as d,j as o,u as y,r as i,a as w,B as n,T as l}from"./index-Cub6i1Ni.js";import{t as z,u as L,y as I,L as S,C as A}from"./js.cookie-D3iyxcDy.js";import{l as M}from"./logo-06Lthgp1.js";import{u as k}from"./useCommon-DVJpXshG.js";import{_ as C}from"./lodash-B53-AZ2z.js";import{I as m}from"./IconButton-B9oMPucT.js";import{L as H}from"./LogoutOutlined-Bo-KFUoW.js";const R=d(o.jsx("path",{d:"M13 11H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h9zM4 9h7V6H4zm11 11H4c-1.1 0-2-.9-2-2v-3c0-1.1.9-2 2-2h11zM4 18h9v-3H4zm18-9h-2l2-5h-7v7h2v9zM4.75 17.25h1.5v-1.5h-1.5zm0-9h1.5v-1.5h-1.5z"}),"DynamicFormOutlined"),B=d(o.jsx("path",{d:"m8.1 13.34 2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13z"}),"RestaurantMenuOutlined"),O=d(o.jsx("path",{d:"M15.59 3.59c-.38-.38-.89-.59-1.42-.59H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V9.83c0-.53-.21-1.04-.59-1.41zM8 17c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m6 0V4.5l5.5 5.5H15c-.55 0-1-.45-1-1"}),"SummarizeRounded"),x=c=>c?C.capitalize(c):"",N=()=>{const c=y(),t=z(c.palette.mode);L("(min-width: 724px)");const[u,h]=i.useState(!1),[e]=k("userData",null),s=w();i.useEffect(()=>{if(!e)return;e.show_incident==="1"&&e.role==="admin"||e.role==="kitchen"||s("/room",{replace:!0})},[e,s]);const g=i.useCallback(r=>{r.preventDefault(),h(!0),I.success("Logged out!"),setTimeout(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),h(!1),s("/",{replace:!0})},1e3)},[s]),a=i.useCallback((r,v={})=>{s(r,{state:v})},[s]),p=i.useMemo(()=>(e==null?void 0:e.show_dining)==="1",[e]),f=i.useMemo(()=>(e==null?void 0:e.show_incident)==="1"&&(e==null?void 0:e.role)!=="kitchen",[e]),j=i.useMemo(()=>(e==null?void 0:e.role)==="kitchen",[e]),b=i.useMemo(()=>(e==null?void 0:e.role)==="admin"?"Admin":(console.log(x((e==null?void 0:e.role)||"guest")),x((e==null?void 0:e.role)||"guest")),[e]);return o.jsxs(n,{display:"flex",height:"100vh",width:"100%",sx:{overflowX:"hidden",overflowY:"auto"},children:[o.jsx(S,{}),o.jsx(n,{flex:7,sx:{backgroundColor:t.blueAccent[700],height:"100vh",width:"100%",overflowX:"hidden"}}),o.jsxs(n,{flex:5,display:"flex",alignItems:"center",justifyContent:"center",sx:{backgroundColor:"white",height:"100vh",width:"100%",position:"relative"},children:[o.jsx(n,{sx:{position:"absolute",top:16,right:24,zIndex:1},children:o.jsxs(l,{variant:"caption",sx:{textAlign:"right"},children:["Logged in as ",b]})}),o.jsxs(n,{component:"form",onSubmit:g,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"400px",padding:"20px",margin:"0 auto"},children:[o.jsx("img",{src:M,alt:"Logo",style:{width:80,marginBottom:16}}),o.jsxs(n,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:5,sx:{marginTop:7,marginBottom:7},children:[p&&o.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[o.jsx(m,{onClick:()=>a("/room"),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Dining",children:o.jsx(B,{sx:{fontSize:40}})}),o.jsx(l,{variant:"caption",sx:{mt:1},children:"Dining"})]}),f&&o.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[o.jsx(m,{onClick:()=>a("/staticForms"),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Incident Forms",children:o.jsx(R,{sx:{fontSize:40}})}),o.jsx(l,{variant:"caption",sx:{mt:1},children:"Incident"})]}),j&&o.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[o.jsx(m,{onClick:()=>a("/order",{Kitchen_summery:!0}),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Summary",children:o.jsx(O,{sx:{fontSize:40}})}),o.jsx(l,{variant:"caption",sx:{mt:1},children:"Summary"})]})]}),o.jsx(n,{children:o.jsx(A,{type:"submit",disabled:u,startIcon:o.jsx(H,{}),sx:{bgcolor:t.blueAccent[50],color:t.blueAccent[700],"&:hover":{bgcolor:t.blueAccent[100],color:t.blueAccent[800]},padding:"10px 32px",boxShadow:"none",borderRadius:"30px",border:"none",borderRadius:4,fontWeight:600,fontSize:16,cursor:"pointer",width:"auto"},children:u?"Loading...":"Log Out"})})]})]})]})};export{N as default};
