import{c as d,j as e,u as y,r as i,a as z,B as n,T as r}from"./index-BlhyXN4h.js";import{t as w,u as L,y as I,L as S,C as A}from"./js.cookie-D4_0Lw4j.js";import{l as M}from"./logo-06Lthgp1.js";import{u as C}from"./useCommon-DZOERRCT.js";import{_ as k}from"./lodash-Dn5aD5Mr.js";import{I as m}from"./IconButton-BWxRuJ-2.js";import{L as H}from"./LogoutOutlined-D7tdLiF5.js";const R=d(e.jsx("path",{d:"M13 11H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h9zM4 9h7V6H4zm11 11H4c-1.1 0-2-.9-2-2v-3c0-1.1.9-2 2-2h11zM4 18h9v-3H4zm18-9h-2l2-5h-7v7h2v9zM4.75 17.25h1.5v-1.5h-1.5zm0-9h1.5v-1.5h-1.5z"}),"DynamicFormOutlined"),B=d(e.jsx("path",{d:"m8.1 13.34 2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13z"}),"RestaurantMenuOutlined"),O=d(e.jsx("path",{d:"M15.59 3.59c-.38-.38-.89-.59-1.42-.59H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V9.83c0-.53-.21-1.04-.59-1.41zM8 17c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m6 0V4.5l5.5 5.5H15c-.55 0-1-.45-1-1"}),"SummarizeRounded"),x=s=>s?k.capitalize(s):"",N=()=>{const s=y(),t=w(s.palette.mode);L("(min-width: 724px)");const[u,h]=i.useState(!1),[o]=C("userData",null),c=z(),g=i.useCallback(a=>{a.preventDefault(),h(!0),I.success("Logged out!"),setTimeout(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),h(!1),c("/",{replace:!0})},1e3)},[c]),l=i.useCallback((a,v={})=>{c(a,{state:v})},[c]),p=i.useMemo(()=>(o==null?void 0:o.show_dining)==="1",[o]),f=i.useMemo(()=>(o==null?void 0:o.show_incident)==="1"&&(o==null?void 0:o.role)!=="kitchen",[o]),j=i.useMemo(()=>(o==null?void 0:o.role)==="kitchen",[o]),b=i.useMemo(()=>(o==null?void 0:o.role)==="admin"?"Admin":(console.log(x((o==null?void 0:o.role)||"guest")),x((o==null?void 0:o.role)||"guest")),[o]);return e.jsxs(n,{display:"flex",height:"100vh",width:"100%",sx:{overflowX:"hidden",overflowY:"auto"},children:[e.jsx(S,{}),e.jsx(n,{flex:7,sx:{backgroundColor:t.blueAccent[700],height:"100vh",width:"100%",overflowX:"hidden"}}),e.jsxs(n,{flex:5,display:"flex",alignItems:"center",justifyContent:"center",sx:{backgroundColor:"white",height:"100vh",width:"100%",position:"relative"},children:[e.jsx(n,{sx:{position:"absolute",top:16,right:24,zIndex:1},children:e.jsxs(r,{variant:"caption",sx:{textAlign:"right"},children:["Logged in as ",b]})}),e.jsxs(n,{component:"form",onSubmit:g,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"400px",padding:"20px",margin:"0 auto"},children:[e.jsx("img",{src:M,alt:"Logo",style:{width:80,marginBottom:16}}),e.jsxs(n,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:5,sx:{marginTop:7,marginBottom:7},children:[p&&e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(m,{onClick:()=>l("/room"),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Dining",children:e.jsx(B,{sx:{fontSize:40}})}),e.jsx(r,{variant:"caption",sx:{mt:1},children:"Dining"})]}),f&&e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(m,{onClick:()=>l("/staticForms"),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Incident Forms",children:e.jsx(R,{sx:{fontSize:40}})}),e.jsx(r,{variant:"caption",sx:{mt:1},children:"Incident"})]}),j&&e.jsxs(n,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(m,{onClick:()=>l("/order",{Kitchen_summery:!0}),sx:{color:t.blueAccent[700],transition:"color 0.3s","&:hover":{color:t.blueAccent[800]}},"aria-label":"Go to Summary",children:e.jsx(O,{sx:{fontSize:40}})}),e.jsx(r,{variant:"caption",sx:{mt:1},children:"Summary"})]})]}),e.jsx(n,{children:e.jsx(A,{type:"submit",disabled:u,startIcon:e.jsx(H,{}),sx:{bgcolor:t.blueAccent[50],color:t.blueAccent[700],"&:hover":{bgcolor:t.blueAccent[100],color:t.blueAccent[800]},padding:"10px 32px",boxShadow:"none",borderRadius:"30px",border:"none",borderRadius:4,fontWeight:600,fontSize:16,cursor:"pointer",width:"auto"},children:u?"Loading...":"Log Out"})})]})]})]})};export{N as default};
